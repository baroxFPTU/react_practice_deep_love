{"version":3,"sources":["components/NotFound/index.jsx","store/constant.js","store/hooks/useHttp.js","components/Contribute/Form/index.jsx","components/Contribute/ListQuestion/index.jsx","page/Contribute.jsx","assets/icon/thumbs-up.svg","store/actions.js","store/reducer.js","store/hooks/useCountdown.js","components/Button/index.jsx","components/Countdown/index.jsx","components/AreaPlayer/index.jsx","store/utils.js","components/ModalQuestion/index.jsx","page/Home.jsx","App.js","index.js","components/AreaPlayer/AreaPlayer.module.css","components/Countdown/Countdown.module.css","components/ModalQuestion/ModalQuestion.module.css"],"names":["NotFound","props","style","color","API_KEY","INITIAL_STATE","isReady","isStart","playerTurn","isShowQuestion","listQuestions","RESTART","SHOW_QUESTION","READY","UPDATE_QUESTIONS","useHttp","API_URL","useState","data","setData","status","setStatus","sendRequest","method","a","configRequest","body","JSON","stringify","fetch","response","ok","Error","json","key","responseData","transformedData","push","ContributeForm","contributeSchema","Yup","shape","name","min","max","required","question","timeLimit","moreThan","positive","integer","handleSubmitForm","values","newQuestion","content","id","Date","now","author","initialValues","validationSchema","onSubmit","handleChange","handleSubmit","touched","errors","TextInput","value","onChange","description","label","variant","radius","size","error","margin","NumberInput","placeholder","Button","type","QuestionsContributed","console","log","useEffect","map","qs","index","Contribute","Container","width","padding","fluid","Title","order","Accordion","iconPosition","Item","restart","showQuestion","payload","updateQuestions","newQuestions","reducer","state","action","useCountdown","amount","callback","countdown","setCountdown","timerId","setInterval","clearInterval","children","once","onClick","counter","setCounter","disabled","Countdown","fallback","playerId","className","classes","AreaPlayer","answerTurn","dispatch","isMe","playSection","acceptButton","actions","Math","floor","random","readyCaption","icon","src","thumbsUp","alt","buttonReady","areaPlayer","ModalQuestion","questions","onUpdateQuestions","setQuestion","_randomQuestion","length","filteredQuestions","filter","randomQuestion","modalQuestion","defaultProps","Home","useReducer","GameReducer","getQuestions","App","path","element","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.027156fc.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction NotFound(props) {\r\n  return (\r\n    <div>\r\n      <h1 style={{color: 'red'}}>Not Found Anything</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;","const API_KEY =\r\n  \"https://deep-love-app-default-rtdb.asia-southeast1.firebasedatabase.app\";\r\n\r\nconst INITIAL_STATE = {\r\n  isReady: 0,\r\n  isStart: false,\r\n  playerTurn: null,\r\n  isShowQuestion: false,\r\n  listQuestions: [],\r\n};\r\n\r\nconst RESTART = \"RESTART\";\r\nconst SHOW_QUESTION = \"SHOW_QUESTION\";\r\nconst READY = \"READY\";\r\nconst UPDATE_QUESTIONS = \"UPDATE_QUESTIONS\";\r\n\r\nexport {\r\n  API_KEY,\r\n  INITIAL_STATE,\r\n  RESTART,\r\n  SHOW_QUESTION,\r\n  READY,\r\n  UPDATE_QUESTIONS,\r\n};\r\n","import { useState } from \"react\";\r\n\r\nfunction useHttp(API_URL) {\r\n  const [data, setData] = useState(null);\r\n  const [status, setStatus] = useState(\"pending\");\r\n\r\n  const sendRequest = async (method, data = null) => {\r\n    const configRequest = {\r\n      method: method,\r\n    };\r\n\r\n    if (data) {\r\n      configRequest.body = JSON.stringify(data);\r\n    }\r\n\r\n    setStatus(\"pending\");\r\n    const response = await fetch(API_URL, configRequest);\r\n    if (!response.ok) {\r\n      setStatus(\"failed\");\r\n      throw new Error(\"Failed to get data\");\r\n    }\r\n\r\n    const responseData = (await response.json()) || \"completed\";\r\n    const transformedData = [];\r\n    for (const key in responseData) {\r\n      transformedData.push(responseData[key]);\r\n    }\r\n\r\n    setData(transformedData);\r\n    setStatus(\"success\");\r\n  };\r\n\r\n  return [sendRequest, data, status];\r\n}\r\nexport default useHttp;\r\n","import { Button, NumberInput, TextInput } from '@mantine/core';\r\nimport { Formik } from 'formik';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\nimport { API_KEY } from '../../../store/constant';\r\nimport useHttp from '../../../store/hooks/useHttp';\r\n\r\nfunction ContributeForm(props) {\r\n  const [sendRequest, data] = useHttp(`${API_KEY}/questions.json`);\r\n\r\n  const contributeSchema = Yup.object().shape({\r\n    name: Yup.string().min(2, 'Tên gì ngắn vậy!').max(50, 'Tên gì dài quá vậy!').required('Tên bạn là gì nè.'),\r\n    question: Yup.string().required('Bạn quên nhập câu hỏi rồi nè.'),\r\n    timeLimit: Yup.number().moreThan(5, 'Thời gian ít vậy!').positive().integer().required('')\r\n  });\r\n\r\n  const handleSubmitForm = async (values) => {\r\n    const newQuestion = {\r\n      content: values.question,\r\n      id: Date.now(),\r\n      author: values.name,\r\n      timeLimit: values.timeLimit\r\n    }\r\n\r\n    await sendRequest('POST', newQuestion);\r\n  }\r\n\r\n  return (\r\n  <>\r\n    <Formik\r\n      initialValues={{name: '', question: '', timeLimit: 30}}\r\n      validationSchema={contributeSchema}\r\n      onSubmit={handleSubmitForm}\r\n    >\r\n     {({values, handleChange, handleSubmit, touched, errors}) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <TextInput\r\n            value={values.name}\r\n            onChange={handleChange}\r\n            description=\"Ví dụ: Nguyen Van A\"\r\n            label=\"Tên của bạn\"\r\n            name='name'\r\n            variant=\"filled\"\r\n            id=\"name\"\r\n            radius=\"md\"\r\n            size=\"md\"\r\n            error={(errors.name && touched.name) ? errors.name : null}\r\n            style={{margin: '15px 0'}}\r\n            required />\r\n          <TextInput\r\n            value={values.question}\r\n            onChange={handleChange}\r\n            name=\"question\"\r\n            id=\"question\"\r\n            variant=\"filled\"\r\n            description=\"Ví dụ: Tai sao yeu?\"\r\n            label=\"Câu hỏi\"\r\n            radius=\"md\"\r\n            size=\"md\" \r\n            error={(errors.question && touched.question) ? errors.question : null}\r\n            style={{margin: '15px 0'}}\r\n            required/>\r\n          <NumberInput\r\n            value={values.timeLimit}\r\n            onChange={handleChange}\r\n            description=\"Giới hạn thời gian của câu hỏi\"\r\n            placeholder=\"Giới hạn thời gian của câu hỏi\"\r\n            label=\"Thời gian\"\r\n            name=\"timeLimit\"\r\n            id=\"timeLimit\"\r\n            style={{margin: '15px 0'}}\r\n            required\r\n          />\r\n        <Button type=\"submit\" style={{margin: '10px 0'}}>Gửi</Button>\r\n      </form>\r\n     )}\r\n    </Formik>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default ContributeForm;","import { TextInput } from '@mantine/core';\r\nimport React, { useEffect } from 'react';\r\nimport { API_KEY } from '../../../store/constant';\r\nimport useHttp from '../../../store/hooks/useHttp';\r\n\r\nfunction QuestionsContributed(props) {\r\n  const [sendRequest, data, status] = useHttp(`${API_KEY}/questions.json`);\r\n  console.log(status);\r\n  useEffect(()=> {\r\n    sendRequest('GET');\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n          {\r\n            data?.map((qs, index) => (\r\n              <TextInput\r\n                key={index}\r\n                style={{margin: '15px 0'}}\r\n                size=\"lg\"\r\n                radius=\"md\"\r\n                value={qs.content}\r\n                variant=\"filled\"\r\n              />))\r\n          }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default QuestionsContributed;","import React from 'react';\r\nimport { Container, Title, Accordion } from '@mantine/core';\r\nimport ContributeForm from '../components/Contribute/Form';\r\nimport QuestionsContributed from '../components/Contribute/ListQuestion';\r\n\r\nfunction Contribute(props) {\r\n  return (\r\n  <>\r\n    <Container style={{margin: '5rem auto', width: '800px'}} padding={15} fluid={true}>\r\n    <Title order={1}>This is h1 title</Title>\r\n      <ContributeForm/>\r\n      <Accordion iconPosition=\"right\">\r\n        <Accordion.Item label=\"Danh sách câu hỏi\">\r\n          <QuestionsContributed/>\r\n        </Accordion.Item>\r\n      </Accordion>\r\n    </Container>\r\n  </>\r\n  );\r\n}\r\n\r\nexport default Contribute;","export default __webpack_public_path__ + \"static/media/thumbs-up.d53868eb.svg\";","import { READY, RESTART, SHOW_QUESTION, UPDATE_QUESTIONS } from \"./constant\";\r\n\r\nexport const restart = () => {\r\n  return {\r\n    type: RESTART,\r\n  };\r\n};\r\n\r\nexport const showQuestion = (payload) => {\r\n  return {\r\n    type: SHOW_QUESTION,\r\n    playerTurn: payload,\r\n  };\r\n};\r\n\r\nexport const isReady = () => {\r\n  return {\r\n    type: READY,\r\n  };\r\n};\r\n\r\nexport const updateQuestions = (payload) => {\r\n  return {\r\n    type: UPDATE_QUESTIONS,\r\n    newQuestions: payload,\r\n  };\r\n};\r\n","import { READY, RESTART, SHOW_QUESTION, UPDATE_QUESTIONS } from \"./constant\";\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case RESTART:\r\n      return {\r\n        ...state,\r\n        isShowQuestion: false,\r\n        playerTurn: null,\r\n      };\r\n    case SHOW_QUESTION:\r\n      return {\r\n        ...state,\r\n        isReady: 0,\r\n        isStart: false,\r\n        isShowQuestion: true,\r\n        playerTurn: action.playerTurn,\r\n      };\r\n    case READY:\r\n      if (state.isReady < 1) {\r\n        return {\r\n          ...state,\r\n          isReady: (state.isReady += 1),\r\n        };\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        isShowQuestion: false,\r\n        isStart: true,\r\n      };\r\n    case UPDATE_QUESTIONS:\r\n      return {\r\n        ...state,\r\n        listQuestions: [...action.newQuestions],\r\n      };\r\n    default:\r\n      throw new Error(\"Invalid action\");\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nfunction useCountdown(amount, callback) {\r\n  const [countdown, setCountdown] = useState(amount);\r\n  useEffect(() => {\r\n    const timerId =\r\n      countdown > 0\r\n        ? setInterval(() => {\r\n            setCountdown(countdown - 1);\r\n          }, 1000)\r\n        : callback();\r\n\r\n    return () => {\r\n      return clearInterval(timerId);\r\n    };\r\n  }, [countdown, callback]);\r\n\r\n  return [countdown];\r\n}\r\n\r\nexport default useCountdown;\r\n","import PropTypes from 'prop-types';\r\nimport React, { useState } from 'react';\r\n\r\nButton.propTypes = {\r\n  once: PropTypes.bool,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nfunction Button({children,once, onClick, ...props}) {\r\n  const [counter, setCounter] = useState(0);\r\n\r\n  const handleOnClick = () => {\r\n    if (once) {\r\n      setCounter(counter + 1);\r\n    }\r\n\r\n    onClick();\r\n  }\r\n\r\n  return (\r\n    <button {...props} onClick={handleOnClick} disabled={counter >= 1}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { useCountdown } from '../../store';\r\nimport classes from './Countdown.module.css';\r\n\r\nCountdown.propTypes = {\r\n  amount: PropTypes.number,\r\n  fallback: PropTypes.func,\r\n  playerId: PropTypes.string,\r\n};\r\n\r\nfunction Countdown({amount, fallback, playerId}) {\r\n  const [countdown] = useCountdown(amount, fallback);\r\n  return (\r\n    <div className={classes.countdown} data-player-id={playerId}>\r\n      {countdown}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Countdown;","import React from 'react';\r\nimport thumbsUp from '../../assets/icon/thumbs-up.svg';\r\nimport { actions, randomPlayerId } from \"../../store\";\r\nimport Button from '../Button';\r\nimport Countdown from '../Countdown';\r\nimport classes from './AreaPlayer.module.css';\r\n\r\nfunction AreaPlayer({playerId, isStart, answerTurn, dispatch}) {\r\n  const isMe = answerTurn === playerId;\r\n  let playSection = null;\r\n  \r\n  const finish = () => {\r\n    console.log('im finish');\r\n  }\r\n  \r\n  const handleFinishCountDown = () => {\r\n    const playerId = randomPlayerId() + \"\";\r\n    console.log(\"random playerid \", playerId);\r\n    dispatch(actions.showQuestion(playerId));\r\n  };\r\n\r\n  const handleIsReady = () => {\r\n    dispatch(actions.isReady());\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    dispatch(actions.restart());\r\n  };\r\n\r\n  if (answerTurn) {\r\n    playSection = (\r\n      <>\r\n        {(isMe) ?<><Countdown amount={30} fallback={finish}/></>: <button className={classes.acceptButton} onClick={handleRestart}>Accept</button>}\r\n      </>\r\n    )\r\n  } else {\r\n    playSection = (\r\n      <>\r\n        {isStart ? <Countdown amount={3} fallback={handleFinishCountDown}/> :\r\n          <div className={classes.readyCaption}>\r\n            <div className={classes.icon}>\r\n              <img src={thumbsUp} alt='icon'/>\r\n            </div>\r\n            Ready to play\r\n          </div>}\r\n        <Button className={classes.buttonReady} data-player-id={playerId} onClick={handleIsReady} once>Start</Button>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className={classes.areaPlayer} data-player-id={playerId}>\r\n     {playSection}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AreaPlayer;","function randomPlayerId() {\r\n  return Math.floor(Math.random() * (2 - 1 + 1) + 1);\r\n}\r\n\r\nexport { randomPlayerId };\r\n","import PropTypes from 'prop-types';\r\nimport React, { useEffect, useState } from 'react';\r\nimport classes from './ModalQuestion.module.css';\r\n\r\nModalQuestion.propTypes = {\r\n  question: PropTypes.string\r\n};\r\n\r\nModalQuestion.defaultProps = {\r\n  question: null\r\n}\r\n\r\nfunction randomQuestion(questions) {\r\n const randomIndex = Math.floor(Math.random() * (questions.length - 1)  + 1);\r\n const _randomQuestion = questions[randomIndex];\r\n const filteredQuestions = questions.filter(question => question.id !== _randomQuestion.id )\r\n\r\n return [_randomQuestion, filteredQuestions];\r\n}\r\n\r\nfunction ModalQuestion({questions, onUpdateQuestions, playerTurn}) {\r\n  const [question, setQuestion] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const [question, filteredQuestions] = randomQuestion(questions);\r\n    setQuestion(question);\r\n    onUpdateQuestions(filteredQuestions);\r\n    return () => {\r\n      setQuestion(null)\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.modalQuestion} data-player-turn={playerTurn}>\r\n      <div className=\"icon\"></div>\r\n      {question ? (<h3>Câu hỏi: {question.content}</h3> ): 'Đã hết câu hỏi'}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalQuestion;","import React, { useReducer, useEffect } from 'react';\r\nimport AreaPlayer from '../components/AreaPlayer';\r\nimport ModalQuestion from '../components/ModalQuestion';\r\nimport { actions, GameReducer } from '../store';\r\nimport { INITIAL_STATE, API_KEY } from '../store/constant';\r\n\r\nfunction Home(props) {\r\n  const [state, dispatch] = useReducer(GameReducer, INITIAL_STATE);\r\n  const { isStart, isShowQuestion, listQuestions, playerTurn } = state;\r\n\r\n  useEffect(() => {\r\n    async function getQuestions() {\r\n      const response = await fetch(`${API_KEY}/questions.json`);\r\n      const responseData = await response.json();\r\n      const transformedData = [];\r\n      for (const key in responseData) {\r\n        transformedData.push(responseData[key]);\r\n      }\r\n\r\n      dispatch(actions.updateQuestions(transformedData));\r\n    }\r\n    try {\r\n      getQuestions();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  const handleUpdateQuestions = (newQuestions) => {\r\n    dispatch(actions.updateQuestions(newQuestions));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AreaPlayer\r\n        playerId=\"1\"\r\n        isStart={isStart}\r\n        answerTurn={playerTurn}\r\n        dispatch={dispatch}\r\n      />\r\n      <AreaPlayer\r\n        playerId=\"2\"\r\n        isStart={isStart}\r\n        answerTurn={playerTurn}\r\n        dispatch={dispatch}\r\n      />\r\n      {isShowQuestion && (\r\n        <ModalQuestion\r\n          questions={listQuestions}\r\n          onUpdateQuestions={handleUpdateQuestions}\r\n          playerTurn={playerTurn}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport NotFound from \"./components/NotFound\";\r\nimport Contribute from \"./page/Contribute\";\r\nimport Home from \"./page/Home\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"deepLove\">\r\n      <Routes>\r\n        <Route path=\"/contribute\" element={<Contribute />} />\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"*\" element={<NotFound />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"areaPlayer\":\"AreaPlayer_areaPlayer__11GlF\",\"buttonReady\":\"AreaPlayer_buttonReady__9CIy3\",\"clicked\":\"AreaPlayer_clicked__2TOsv\",\"acceptButton\":\"AreaPlayer_acceptButton__1ZIEE\",\"icon\":\"AreaPlayer_icon__3_0tM\",\"readyCaption\":\"AreaPlayer_readyCaption__1JqBh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"countdown\":\"Countdown_countdown__q5ASo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modalQuestion\":\"ModalQuestion_modalQuestion__2Th7V\",\"appear1\":\"ModalQuestion_appear1__2XCQY\",\"appear2\":\"ModalQuestion_appear2__3kbZt\"};"],"sourceRoot":""}