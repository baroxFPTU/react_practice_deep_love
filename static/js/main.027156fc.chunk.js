(this.webpackJsonpdeep_love=this.webpackJsonpdeep_love||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"restart",(function(){return A})),n.d(a,"showQuestion",(function(){return I})),n.d(a,"isReady",(function(){return P})),n.d(a,"updateQuestions",(function(){return F}));var r=n(0),i=n.n(r),c=n(43),s=n.n(c),o=(n(100),n(4)),u=(n(101),n(2));var l=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{style:{color:"red"},children:"Not Found Anything"})})},d=n(214),j=n(215),b=n(210),h=n(15),p=n.n(h),O=n(25),f=n(3),m=n(93),v=n(212),x=n(211),y=n(92),g=n(36),_="https://deep-love-app-default-rtdb.asia-southeast1.firebasedatabase.app",w={isReady:0,isStart:!1,playerTurn:null,isShowQuestion:!1,listQuestions:[]},S="RESTART",T="SHOW_QUESTION",Q="READY",q="UPDATE_QUESTIONS";var k=function(e){var t=Object(r.useState)(null),n=Object(f.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)("pending"),s=Object(f.a)(c,2),o=s[0],u=s[1],l=function(){var t=Object(O.a)(p.a.mark((function t(n){var a,r,c,s,o,l,d=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.length>1&&void 0!==d[1]?d[1]:null,r={method:n},a&&(r.body=JSON.stringify(a)),u("pending"),t.next=6,fetch(e,r);case 6:if((c=t.sent).ok){t.next=10;break}throw u("failed"),new Error("Failed to get data");case 10:return t.next=12,c.json();case 12:if(t.t0=t.sent,t.t0){t.next=15;break}t.t0="completed";case 15:for(l in s=t.t0,o=[],s)o.push(s[l]);i(o),u("success");case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return[l,a,o]};var C=function(e){var t=k("".concat(_,"/questions.json")),n=Object(f.a)(t,2),a=n[0],r=(n[1],g.b().shape({name:g.c().min(2,"T\xean g\xec ng\u1eafn v\u1eady!").max(50,"T\xean g\xec d\xe0i qu\xe1 v\u1eady!").required("T\xean b\u1ea1n l\xe0 g\xec n\xe8."),question:g.c().required("B\u1ea1n qu\xean nh\u1eadp c\xe2u h\u1ecfi r\u1ed3i n\xe8."),timeLimit:g.a().moreThan(5,"Th\u1eddi gian \xedt v\u1eady!").positive().integer().required("")})),i=function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={content:t.question,id:Date.now(),author:t.name,timeLimit:t.timeLimit},e.next=3,a("POST",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(y.a,{initialValues:{name:"",question:"",timeLimit:30},validationSchema:r,onSubmit:i,children:function(e){var t=e.values,n=e.handleChange,a=e.handleSubmit,r=e.touched,i=e.errors;return Object(u.jsxs)("form",{onSubmit:a,children:[Object(u.jsx)(m.a,{value:t.name,onChange:n,description:"V\xed d\u1ee5: Nguyen Van A",label:"T\xean c\u1ee7a b\u1ea1n",name:"name",variant:"filled",id:"name",radius:"md",size:"md",error:i.name&&r.name?i.name:null,style:{margin:"15px 0"},required:!0}),Object(u.jsx)(m.a,{value:t.question,onChange:n,name:"question",id:"question",variant:"filled",description:"V\xed d\u1ee5: Tai sao yeu?",label:"C\xe2u h\u1ecfi",radius:"md",size:"md",error:i.question&&r.question?i.question:null,style:{margin:"15px 0"},required:!0}),Object(u.jsx)(v.a,{value:t.timeLimit,onChange:n,description:"Gi\u1edbi h\u1ea1n th\u1eddi gian c\u1ee7a c\xe2u h\u1ecfi",placeholder:"Gi\u1edbi h\u1ea1n th\u1eddi gian c\u1ee7a c\xe2u h\u1ecfi",label:"Th\u1eddi gian",name:"timeLimit",id:"timeLimit",style:{margin:"15px 0"},required:!0}),Object(u.jsx)(x.a,{type:"submit",style:{margin:"10px 0"},children:"G\u1eedi"})]})}})})};var E=function(e){var t=k("".concat(_,"/questions.json")),n=Object(f.a)(t,3),a=n[0],i=n[1],c=n[2];return console.log(c),Object(r.useEffect)((function(){a("GET")}),[]),Object(u.jsx)(u.Fragment,{children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(u.jsx)(m.a,{style:{margin:"15px 0"},size:"lg",radius:"md",value:e.content,variant:"filled"},t)}))})};var R=function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.a,{style:{margin:"5rem auto",width:"800px"},padding:15,fluid:!0,children:[Object(u.jsx)(j.a,{order:1,children:"This is h1 title"}),Object(u.jsx)(C,{}),Object(u.jsx)(b.a,{iconPosition:"right",children:Object(u.jsx)(b.a.Item,{label:"Danh s\xe1ch c\xe2u h\u1ecfi",children:Object(u.jsx)(E,{})})})]})})},N=n.p+"static/media/thumbs-up.d53868eb.svg",A=function(){return{type:S}},I=function(e){return{type:T,playerTurn:e}},P=function(){return{type:Q}},F=function(e){return{type:q,newQuestions:e}},M=n(8),L=n(10);var B=function(e,t){switch(t.type){case S:return Object(L.a)(Object(L.a)({},e),{},{isShowQuestion:!1,playerTurn:null});case T:return Object(L.a)(Object(L.a)({},e),{},{isReady:0,isStart:!1,isShowQuestion:!0,playerTurn:t.playerTurn});case Q:return e.isReady<1?Object(L.a)(Object(L.a)({},e),{},{isReady:e.isReady+=1}):Object(L.a)(Object(L.a)({},e),{},{isShowQuestion:!1,isStart:!0});case q:return Object(L.a)(Object(L.a)({},e),{},{listQuestions:Object(M.a)(t.newQuestions)});default:throw new Error("Invalid action")}};var G=function(e,t){var n=Object(r.useState)(e),a=Object(f.a)(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){var e=i>0?setInterval((function(){c(i-1)}),1e3):t();return function(){return clearInterval(e)}}),[i,t]),[i]};var U=n(95),V=["children","once","onClick"];var D=function(e){var t=e.children,n=e.once,a=e.onClick,i=Object(U.a)(e,V),c=Object(r.useState)(0),s=Object(f.a)(c,2),o=s[0],l=s[1];return Object(u.jsx)("button",Object(L.a)(Object(L.a)({},i),{},{onClick:function(){n&&l(o+1),a()},disabled:o>=1,children:t}))},J=n(90),z=n.n(J);var Y=function(e){var t=e.amount,n=e.fallback,a=e.playerId,r=G(t,n),i=Object(f.a)(r,1)[0];return Object(u.jsx)("div",{className:z.a.countdown,"data-player-id":a,children:i})},Z=n(28),H=n.n(Z);var W=function(e){var t=e.playerId,n=e.isStart,r=e.answerTurn,i=e.dispatch,c=r===t,s=null;return s=r?Object(u.jsx)(u.Fragment,{children:c?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Y,{amount:30,fallback:function(){console.log("im finish")}})}):Object(u.jsx)("button",{className:H.a.acceptButton,onClick:function(){i(a.restart())},children:"Accept"})}):Object(u.jsxs)(u.Fragment,{children:[n?Object(u.jsx)(Y,{amount:3,fallback:function(){var e=Math.floor(2*Math.random()+1)+"";console.log("random playerid ",e),i(a.showQuestion(e))}}):Object(u.jsxs)("div",{className:H.a.readyCaption,children:[Object(u.jsx)("div",{className:H.a.icon,children:Object(u.jsx)("img",{src:N,alt:"icon"})}),"Ready to play"]}),Object(u.jsx)(D,{className:H.a.buttonReady,"data-player-id":t,onClick:function(){i(a.isReady())},once:!0,children:"Start"})]}),Object(u.jsx)("div",{className:H.a.areaPlayer,"data-player-id":t,children:s})},X=n(91),K=n.n(X);function $(e){var t=e.questions,n=e.onUpdateQuestions,a=e.playerTurn,i=Object(r.useState)(null),c=Object(f.a)(i,2),s=c[0],o=c[1];return Object(r.useEffect)((function(){var e=function(e){var t=e[Math.floor(Math.random()*(e.length-1)+1)],n=e.filter((function(e){return e.id!==t.id}));return[t,n]}(t),a=Object(f.a)(e,2),r=a[0],i=a[1];return o(r),n(i),function(){o(null)}}),[]),Object(u.jsxs)("div",{className:K.a.modalQuestion,"data-player-turn":a,children:[Object(u.jsx)("div",{className:"icon"}),s?Object(u.jsxs)("h3",{children:["C\xe2u h\u1ecfi: ",s.content]}):"\u0110\xe3 h\u1ebft c\xe2u h\u1ecfi"]})}$.defaultProps={question:null};var ee=$;var te=function(e){var t=Object(r.useReducer)(B,w),n=Object(f.a)(t,2),i=n[0],c=n[1],s=i.isStart,o=i.isShowQuestion,l=i.listQuestions,d=i.playerTurn;return Object(r.useEffect)((function(){function e(){return(e=Object(O.a)(p.a.mark((function e(){var t,n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_,"/questions.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:for(i in n=e.sent,r=[],n)r.push(n[i]);c(a.updateQuestions(r));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}try{!function(){e.apply(this,arguments)}()}catch(t){console.log(t)}}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(W,{playerId:"1",isStart:s,answerTurn:d,dispatch:c}),Object(u.jsx)(W,{playerId:"2",isStart:s,answerTurn:d,dispatch:c}),o&&Object(u.jsx)(ee,{questions:l,onUpdateQuestions:function(e){c(a.updateQuestions(e))},playerTurn:d})]})};var ne=function(){return Object(u.jsx)("div",{className:"deepLove",children:Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/contribute",element:Object(u.jsx)(R,{})}),Object(u.jsx)(o.a,{path:"/",element:Object(u.jsx)(te,{})}),Object(u.jsx)(o.a,{path:"*",element:Object(u.jsx)(l,{})})]})})},ae=n(58);s.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(ae.a,{children:Object(u.jsx)(ne,{})})}),document.getElementById("root"))},28:function(e,t,n){e.exports={areaPlayer:"AreaPlayer_areaPlayer__11GlF",buttonReady:"AreaPlayer_buttonReady__9CIy3",clicked:"AreaPlayer_clicked__2TOsv",acceptButton:"AreaPlayer_acceptButton__1ZIEE",icon:"AreaPlayer_icon__3_0tM",readyCaption:"AreaPlayer_readyCaption__1JqBh"}},90:function(e,t,n){e.exports={countdown:"Countdown_countdown__q5ASo"}},91:function(e,t,n){e.exports={modalQuestion:"ModalQuestion_modalQuestion__2Th7V",appear1:"ModalQuestion_appear1__2XCQY",appear2:"ModalQuestion_appear2__3kbZt"}}},[[205,1,2]]]);
//# sourceMappingURL=main.027156fc.chunk.js.map